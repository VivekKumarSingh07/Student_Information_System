{% extends "base.html" %}

{% block title %}
Teacher Profile
{% endblock title %}

{% block content %}
<div class="panel panel-default">
  <div class="panel-heading">
    <h4>Logged in as: {{ teacher['teacher_id'] }}</h4>
  </div>
  <!-- /.panel-heading -->
  <div class="panel-body">
    <!-- Nav tabs -->
    <ul class="nav nav-tabs">
      <li class="active"><a href="#profile" data-toggle="tab" aria-expanded="true">Profile</a>
      </li>
      <li><a href="#messages" data-toggle="tab">Coursework</a>
      </li>
      <li><a href="#settings" data-toggle="tab">Settings</a>
      </li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content">
      <div class="tab-pane fade active in" id="profile">
        <h1><strong>{{ teacher['teacher_name'] }}</strong></h1>
        <p><label>Contact No: </label> {{ teacher['phone'] }}</p>
      </div>
      <div class="tab-pane fade" id="messages">
        <h4><label>Subject: </label> {{ teacher['sub_code']}}</h4>
        <div class="col-lg-12">
          <div class="panel panel-default">
            <div class="panel-heading">
              <a href="#">Current Batch</a>
            </div>
            <div class="panel-body">
              <table class="table table-striped table-bordered table-hover dataTable no-footer dtr-inline collapsed" style="width: 100%;" id="dataTables">
                <thead>
                  <tr role="row">
                    <td>ID</td>
                    <td>Name</td>
                    <td>Date of Birth</td>
                    <td>Academic Year</td>
                    <td>Branch</td>
                    <td>Semester</td>
                  </tr>
                </thead>
                <tbody>
                  {% for student in student_list %}
                  <tr>
                    <td>{{ student['student_id'] }}</td>
                    <td>{{ student['student_name'] }}</td>
                    <td>{{ student['date_of_birth'] }}</td>
                    <td>{{ student['academic_year'] }}</td>
                    <td>{{ student['branch_code'] }}</td>
                    <td>{{ student['semester'] }}</td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>


      <div class="tab-pane fade" id="settings">
        <h4>Change Password</h4>
        <form method="post" class="form">
          <div class="form-group">
            <label>Old Password</label>
            <input class="form-control" type="text" placeholder="Enter Text" aria-label="oldPassword" name="oldPassword">
          </div>
          <div class="form-group">
            <label>New Password</label>
            <input class="form-control" type="password" placeholder="Enter text" aria-label="newPassword" name="newPassword">
          </div>
          <button type="submit" class="btn btn-lg btn-primary btn-block btn-outline" value="Submit">Update</button>
        </form>
      </div>
    </div>
  </div>
  {% if error == True:%}
  <div class="alert alert-danger alert-dismissable" style="text-align: center">
    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
    Invalid Details
  </div>
  {% endif %}
  {% if changed == True: %}
  <div class="alert alert-success alert-dismissable" style="text-align: center">
    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
    Password Updated
  </div>
  {% endif %}
</div>
</div>
<!-- /.panel-body -->
{% endblock content%}
